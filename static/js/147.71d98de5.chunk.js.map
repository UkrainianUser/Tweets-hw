{"version":3,"file":"static/js/147.71d98de5.chunk.js","mappings":"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","sources":["webpack://tweets-hw/./src/components/backLink/BackLink.module.css?ad0b","components/backLink/BackLink.jsx","webpack://tweets-hw/./src/components/tweetsCard/TweetsCard.module.css?2ccd","components/tweetsCard/TweetsCard.jsx","pages/Tweets.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backlink\":\"BackLink_backlink__4tKEe\"};","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport css from 'components/backLink/BackLink.module.css';\n\nconst BackLink = ({ to }) => {\n  return (\n    <Link to={to} className={css.backlink}>\n      {' '}\n      &larr; Go back\n    </Link>\n  );\n};\n\nexport default BackLink;\n\nBackLink.propTypes = {\n  to: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"cardsList\":\"TweetsCard_cardsList__dCYal\",\"tweetsCard\":\"TweetsCard_tweetsCard__R1BcE\",\"cardTop\":\"TweetsCard_cardTop__qsetM\",\"popupImg\":\"TweetsCard_popupImg__A-jUG\",\"avatar\":\"TweetsCard_avatar__EdbHy\",\"cardLine\":\"TweetsCard_cardLine__YLDMj\",\"cardBottom\":\"TweetsCard_cardBottom__ayy4-\",\"tweetsCount\":\"TweetsCard_tweetsCount__FJGtE\",\"followersCount\":\"TweetsCard_followersCount__Fq2EB\",\"followBtn\":\"TweetsCard_followBtn__GugBW\",\"followingBtn\":\"TweetsCard_followingBtn__LivVf\",\"loadMoreBtn\":\"TweetsCard_loadMoreBtn__emIf0\"};","import css from './TweetsCard.module.css';\nimport logo from 'images/logo.png';\nimport popup from 'images/popup-img.png';\nimport avatar from 'images/avatar-img.png';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst TweetsCard = () => {\n  const [users, setUsers] = useState([]);\n  const [visibleUsers, setVisibleUsers] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const perPage = 3;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\n          'https://646e54299c677e23218b8751.mockapi.io/users/users'\n        );\n        setUsers(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const startIndex = (currentPage - 1) * perPage;\n    const endIndex = startIndex + perPage;\n    setVisibleUsers(users.slice(0, endIndex));\n  }, [users, currentPage]);\n\n  const handleBtnClick = async event => {\n    const userId = event.currentTarget.dataset.userId;\n\n    setUsers(prevUsers => {\n      return prevUsers.map(user => {\n        if (user.id === userId) {\n          const newFollowersCount = user.isFollowing\n            ? user.followers - 1\n            : user.followers + 1;\n\n          axios\n            .put(\n              `https://646e54299c677e23218b8751.mockapi.io/users/users/${userId}`,\n              {\n                ...user,\n                isFollowing: !user.isFollowing,\n                followers: newFollowersCount,\n              }\n            )\n            .then(response => {\n              console.log('Дані оновлено успішно:', response.data);\n            })\n            .catch(error => {\n              console.log('Помилка при оновленні даних:', error);\n            });\n\n          return {\n            ...user,\n            isFollowing: !user.isFollowing,\n            followers: newFollowersCount,\n          };\n        }\n        return user;\n      });\n    });\n  };\n\n  const formatNumber = number => {\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  };\n\n  const loadMoreUsers = () => {\n    setCurrentPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className=\"container\">\n      <ul className={css.cardsList}>\n        {visibleUsers.map(user => (\n          <li className={css.tweetsCard} key={user.id}>\n            <div className={css.cardTop}>\n              <a href=\"https://www.edu.goit.global/\">\n                <img className={css.logoImg} src={logo} alt=\"logo\" />\n              </a>\n              <span className={css.popupImg}>\n                <img src={popup} alt=\"chat\" />\n              </span>\n              <span className={css.avatar}>\n                <img src={user.avatar || avatar} alt={user.user} />\n              </span>\n            </div>\n            <span className={css.cardLine}></span>\n            <div className={css.cardBottom}>\n              <p className={css.tweetsCount}>\n                <span>{user.tweets}</span> tweets\n              </p>\n              <p className={css.followersCount}>\n                <span>{formatNumber(user.followers)}</span> Followers\n              </p>\n              <button\n                className={`${css.followBtn} ${\n                  user.isFollowing ? css.followingBtn : ''\n                }`}\n                type=\"button\"\n                onClick={handleBtnClick}\n                data-user-id={user.id}\n              >\n                {user.isFollowing ? 'Following' : 'Follow'}\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n      {visibleUsers.length < users.length && (\n        <button className={css.loadMoreBtn} onClick={loadMoreUsers}>\n          Load More\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default TweetsCard;\n","import BackLink from 'components/backLink/BackLink';\nimport TweetsCard from 'components/tweetsCard/TweetsCard';\nimport { useLocation } from 'react-router-dom';\n\nconst Tweets = () => {\n  const location = useLocation();\n  const backLinkPath = location.state?.from ?? '/';\n\n  return (\n    <div className=\"container\">\n      <BackLink to={backLinkPath} />\n      <TweetsCard />\n    </div>\n  );\n};\n\nexport default Tweets;\n"],"names":["_ref","to","_jsxs","Link","className","css","children","_useState","useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","visibleUsers","setVisibleUsers","_useState5","_useState6","currentPage","setCurrentPage","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","data","t0","console","log","stop","apply","arguments","endIndex","slice","handleBtnClick","_ref2","_callee2","event","userId","_context2","currentTarget","dataset","prevUsers","map","user","id","newFollowersCount","isFollowing","followers","put","concat","_objectSpread","then","catch","error","_x","_jsx","cardsList","tweetsCard","cardTop","href","logoImg","src","alt","popupImg","popup","avatar","cardLine","cardBottom","tweetsCount","tweets","followersCount","number","toString","replace","followBtn","followingBtn","type","onClick","length","loadMoreBtn","prevPage","_location$state$from","_location$state","backLinkPath","useLocation","state","from","BackLink","TweetsCard"],"sourceRoot":""}