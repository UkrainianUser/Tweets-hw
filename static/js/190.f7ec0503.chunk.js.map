{"version":3,"file":"static/js/190.f7ec0503.chunk.js","mappings":"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","sources":["webpack://tweets-hw/./src/components/tweetsCard/TweetsCard.module.css?2ccd","components/tweetsCard/TweetsCard.jsx","pages/Tweets.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cardsList\":\"TweetsCard_cardsList__dCYal\",\"tweetsCard\":\"TweetsCard_tweetsCard__R1BcE\",\"cardTop\":\"TweetsCard_cardTop__qsetM\",\"popupImg\":\"TweetsCard_popupImg__A-jUG\",\"avatar\":\"TweetsCard_avatar__EdbHy\",\"cardLine\":\"TweetsCard_cardLine__YLDMj\",\"cardBottom\":\"TweetsCard_cardBottom__ayy4-\",\"tweetsCount\":\"TweetsCard_tweetsCount__FJGtE\",\"followersCount\":\"TweetsCard_followersCount__Fq2EB\",\"followBtn\":\"TweetsCard_followBtn__GugBW\",\"followingBtn\":\"TweetsCard_followingBtn__LivVf\",\"loadMoreBtn\":\"TweetsCard_loadMoreBtn__emIf0\"};","import css from './TweetsCard.module.css';\nimport logo from 'images/logo.png';\nimport popup from 'images/popup-img.png';\nimport avatar from 'images/avatar-img.png';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst TweetsCard = () => {\n  const [users, setUsers] = useState([]);\n  const [visibleUsers, setVisibleUsers] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const perPage = 3;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\n          'https://646e54299c677e23218b8751.mockapi.io/users/users'\n        );\n        setUsers(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const startIndex = (currentPage - 1) * perPage;\n    const endIndex = startIndex + perPage;\n    setVisibleUsers(users.slice(0, endIndex));\n  }, [users, currentPage]);\n\n  const handleBtnClick = async event => {\n    const userId = event.currentTarget.dataset.userId;\n\n    setUsers(prevUsers => {\n      return prevUsers.map(user => {\n        if (user.id === userId) {\n          const newFollowersCount = user.isFollowing\n            ? user.followers - 1\n            : user.followers + 1;\n\n          axios\n            .put(\n              `https://646e54299c677e23218b8751.mockapi.io/users/users/${userId}`,\n              {\n                ...user,\n                isFollowing: !user.isFollowing,\n                followers: newFollowersCount,\n              }\n            )\n            .then(response => {\n              console.log('Дані оновлено успішно:', response.data);\n            })\n            .catch(error => {\n              console.log('Помилка при оновленні даних:', error);\n            });\n\n          return {\n            ...user,\n            isFollowing: !user.isFollowing,\n            followers: newFollowersCount,\n          };\n        }\n        return user;\n      });\n    });\n  };\n\n  const formatNumber = number => {\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  };\n\n  const loadMoreUsers = () => {\n    setCurrentPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className=\"container\">\n      <ul className={css.cardsList}>\n        {visibleUsers.map(user => (\n          <li className={css.tweetsCard} key={user.id}>\n            <div className={css.cardTop}>\n              <a href=\"https://www.edu.goit.global/\">\n                <img className={css.logoImg} src={logo} alt=\"logo\" />\n              </a>\n              <span className={css.popupImg}>\n                <img src={popup} alt=\"chat\" />\n              </span>\n              <span className={css.avatar}>\n                <img src={avatar} alt=\"avatar\" />\n              </span>\n            </div>\n            <span className={css.cardLine}></span>\n            <div className={css.cardBottom}>\n              <p className={css.tweetsCount}>\n                <span>{user.tweets}</span> tweets\n              </p>\n              <p className={css.followersCount}>\n                <span>{formatNumber(user.followers)}</span> Followers\n              </p>\n              <button\n                className={`${css.followBtn} ${\n                  user.isFollowing ? css.followingBtn : ''\n                }`}\n                type=\"button\"\n                onClick={handleBtnClick}\n                data-user-id={user.id}\n              >\n                {user.isFollowing ? 'Following' : 'Follow'}\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n      {visibleUsers.length < users.length && (\n        <button className={css.loadMoreBtn} onClick={loadMoreUsers}>\n          Load More\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default TweetsCard;\n","import TweetsCard from 'components/tweetsCard/TweetsCard';\n\nconst Tweets = () => {\n  return (\n    <>\n      <h1 style={{ textAlign: 'center' }}>TweetsCard:</h1>\n      <TweetsCard />\n    </>\n  );\n};\n\nexport default Tweets;\n"],"names":["_useState","useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","visibleUsers","setVisibleUsers","_useState5","_useState6","currentPage","setCurrentPage","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","data","t0","console","log","stop","apply","arguments","endIndex","slice","handleBtnClick","_ref2","_callee2","event","userId","_context2","currentTarget","dataset","prevUsers","map","user","id","newFollowersCount","isFollowing","followers","put","concat","_objectSpread","then","catch","error","_x","_jsxs","className","children","_jsx","css","cardsList","tweetsCard","cardTop","href","logoImg","src","alt","popupImg","popup","avatar","cardLine","cardBottom","tweetsCount","tweets","followersCount","number","toString","replace","followBtn","followingBtn","type","onClick","length","loadMoreBtn","prevPage","_Fragment","style","textAlign","TweetsCard"],"sourceRoot":""}