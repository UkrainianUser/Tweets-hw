"use strict";(self.webpackChunktweets_hw=self.webpackChunktweets_hw||[]).push([[147],{923:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var a=s(87),n="BackLink_backlink__4tKEe",o=s(184),r=function(e){var t=e.to;return(0,o.jsxs)(a.rU,{to:t,className:n,children:[" ","\u2190 Go back"]})},l=s(683),c=s(165),i=s(861),u=s(439),d={cardsList:"TweetsCard_cardsList__dCYal",tweetsCard:"TweetsCard_tweetsCard__R1BcE",cardTop:"TweetsCard_cardTop__qsetM",popupImg:"TweetsCard_popupImg__A-jUG",avatar:"TweetsCard_avatar__EdbHy",cardLine:"TweetsCard_cardLine__YLDMj",cardBottom:"TweetsCard_cardBottom__ayy4-",tweetsCount:"TweetsCard_tweetsCount__FJGtE",followersCount:"TweetsCard_followersCount__Fq2EB",followBtn:"TweetsCard_followBtn__GugBW",followingBtn:"TweetsCard_followingBtn__LivVf",loadMoreBtn:"TweetsCard_loadMoreBtn__emIf0"},w=s.p+"static/media/popup-img.032662a2a907475127d7.png",p=s.p+"static/media/avatar-img.124bb633313c2d5adbe0.png",g=s(791),f=s(243),A=function(){var e=(0,g.useState)([]),t=(0,u.Z)(e,2),s=t[0],a=t[1],n=(0,g.useState)([]),r=(0,u.Z)(n,2),A=r[0],m=r[1],h=(0,g.useState)(1),v=(0,u.Z)(h,2),x=v[0],C=v[1];(0,g.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.get("https://646e54299c677e23218b8751.mockapi.io/users/users");case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,g.useEffect)((function(){var e=3*(x-1)+3;m(s.slice(0,e))}),[s,x]);var _=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.currentTarget.dataset.userId,a((function(e){return e.map((function(e){if(e.id===s){var t=e.isFollowing?e.followers-1:e.followers+1;return f.Z.put("https://646e54299c677e23218b8751.mockapi.io/users/users/".concat(s),(0,l.Z)((0,l.Z)({},e),{},{isFollowing:!e.isFollowing,followers:t})).then((function(e){console.log("\u0414\u0430\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e:",e.data)})).catch((function(e){console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e)})),(0,l.Z)((0,l.Z)({},e),{},{isFollowing:!e.isFollowing,followers:t})}return e}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("ul",{className:d.cardsList,children:A.map((function(e){return(0,o.jsxs)("li",{className:d.tweetsCard,children:[(0,o.jsxs)("div",{className:d.cardTop,children:[(0,o.jsx)("a",{href:"https://www.edu.goit.global/",children:(0,o.jsx)("img",{className:d.logoImg,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJvSURBVHgB7VixTgJBEJ0zaoIFjSZSaKGFBY0WNlpYaOs3m2ihjYWNFhRaQIGJFFBIIpfgPG6WDOseuyLCmPiSye0dc3u772beDJcNh8NLWj76bNdZluVlDrzOQz7s0pKxQjZQYTuiPwArhAE1jqIDMg5LhAEHTNo2GYY1woAjJq1CRmGRsDW2UyZtlQwidVEDthe2DhUVrSKGqrUZ8O+ytcQ/F98dSq9yrgjc02xosz3JeE8MuKNi/dOeezLl9yTC3vEgLvl97xrQEqHWYt1g30Zgjg77NmRBGxTHqAgE5kpBzveN1shzDNT1vrseAvsOKYJYSk6QhTRhq3oaU1Xjpt6g+I/JkXnwlgeUBhSBefZeWPum2DhY3DUKZ8sEYhHWUWSBpDMqNAbnz1SkW035a7L2+VCXMea4xVwwPkd6p7YQdfZ/o/ngWI2v2HLZ10nqBLEIa6kxNAVkgZQHth4VEYgxIqbrkVtX9/qNaYfSMSoCclw6YhGmdculIaJuYsOiY/pvTUij9LVSHSkBtMVE1YxFmNYqR14FuhQo+1rLEH2+TmmSUkTfAfPEqtvCECNMiyBSD5tGap3TV4FcE+GEuGOTj+o3l7oOO5SOR69CLxWxMN9jEppOrPn8SqreR8mXBaQmogGkoeVAP7SuS7noW43SgBalRYYQizDXdY9TE5vXZIl+uRRDeT506Qq/AFmpAt6esQf7VaQIKTZ5gUijooPO5b4tKlLL3zz6pi1pO3rqOWX+Ifgp/F3gxbmqXC3xQbvi9pKMzMgHRA3o342vW/8fEMvxYEnkfVgjDCL/SoZhiTCTIu/DCmE/FfmF4RNQ/w47l8bQTgAAAABJRU5ErkJggg==",alt:"logo"})}),(0,o.jsx)("span",{className:d.popupImg,children:(0,o.jsx)("img",{src:w,alt:"chat"})}),(0,o.jsx)("span",{className:d.avatar,children:(0,o.jsx)("img",{src:e.avatar||p,alt:e.user})})]}),(0,o.jsx)("span",{className:d.cardLine}),(0,o.jsxs)("div",{className:d.cardBottom,children:[(0,o.jsxs)("p",{className:d.tweetsCount,children:[(0,o.jsx)("span",{children:e.tweets})," tweets"]}),(0,o.jsxs)("p",{className:d.followersCount,children:[(0,o.jsx)("span",{children:(t=e.followers,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))})," Followers"]}),(0,o.jsx)("button",{className:"".concat(d.followBtn," ").concat(e.isFollowing?d.followingBtn:""),type:"button",onClick:_,"data-user-id":e.id,children:e.isFollowing?"Following":"Follow"})]})]},e.id);var t}))}),A.length<s.length&&(0,o.jsx)("button",{className:d.loadMoreBtn,onClick:function(){C((function(e){return e+1}))},children:"Load More"})]})},m=s(689),h=function(){var e,t,s=null!==(e=null===(t=(0,m.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)(r,{to:s}),(0,o.jsx)(A,{})]})}}}]);
//# sourceMappingURL=147.71d98de5.chunk.js.map